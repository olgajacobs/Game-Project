{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;;AAAyC;;AAElC;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA,0CAA0C,MAAM;AAChD;AACA,4BAA4B,iDAAM;AAClC,SAAS;AACT,gBAAgB,gBAAgB,iDAAM,8BAA8B;AACpE;;;;;;;;;;;;;;;AC/BO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACpBO;AACP;AACA;AACA;AACA;AACA;AACO;;AAEsC;AACJ;AAQjB;;AAEjB;AACP;AACA,aAAa,qDAAU;AACvB,YAAY,0DAAW;AACvB;AACA,aAAa,oDAAS;AACtB;AACA,YAAY,sDAAQ,CAAC,gDAAK;AAC1B;AACA,aAAa,mDAAQ;AACrB;AACA;AACA,aAAa,sDAAW;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ,sBAAsB;AAClD,uBAAuB;;AAEvB,gDAAgD;AAChD,2CAA2C;;AAE3C,uBAAuB;;AAEvB,oBAAoB,QAAQ;AAC5B;AACA;AACA,oBAAoB,iDAAM;AAC1B,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA,mCAAmC,OAAO;AAC1C;AACA;AACA;AACA;;AAEA,SAAS,qDAAU;;;;;;;;;;;;;;;;;;;;;;;;ACnEnB;AACO;AACA;AACA;AACA;;AAEP;AACO;AACA;AACA;;AAEP;AACO;AACA;AACA;;;;;;;;;;;;;;;;;;ACdoD;AACA;AASvC;;AAEb;AACP;AACA,aAAa,4CAAK;AAClB,YAAY,uEAAc,CAAC,6CAAK;AAChC;AACA;AACA,aAAa,4CAAK;AAClB,uBAAuB,6CAAK,EAAE,4CAAK;AACnC,YAAY,uEAAc,CAAC,6CAAK;AAChC,sBAAsB;;AAEtB;AACA,aAAa,2CAAI;AACjB,uBAAuB,6CAAK,EAAE,2CAAI;AAClC,YAAY,uEAAc,CAAC,6CAAK;AAChC,0BAA0B,6CAAK,GAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,4CAAK;AACxB;AACA;AACA,oCAAoC,6CAAM;AAC1C,oCAAoC,6CAAM;AAC1C;AACA,MAAM;AACN,4DAA4D,6CAAM;AAClE;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,iBAAiB,2CAAI;AACrB,KAAK;AACL;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;;AAEN;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,4CAAK;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,6CAAM,EAAE;;AAEhD;AACA;AACA;AACA;AACA;AACA,0CAA0C,kBAAkB;AAC5D;AACA;AACA;;AAEA,oBAAoB,4DAAoB;AACxC;AACA,wBAAwB,4DAAoB;AAC5C;AACA;AACA,wBAAwB,oDAAQ,CAAC,+CAAQ;AACzC,sBAAsB;AACtB;AACA;AACA,wBAAwB,qDAAQ,CAAC,kDAAW;AAC5C;AACA,oBAAoB,4DAAoB;AACxC,kBAAkB;AAClB,oBAAoB,4DAAoB;AACxC;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC9IoD;AACS;AACtB;;AAEhC;AACP,IAAI,yEAAe,IAAI;;AAEvB;AACA;AACA;AACA;AACA,gBAAgB,wDAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,YAAY,wDAAgB;AAC5B,YAAY,4DAAoB;AAChC,YAAY,oDAAQ,CAAC,gDAAS;AAC9B;AACA,KAAK;AACL;;;;;;;UC3BA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;UENA;UACA;UACA;UACA","sources":["webpack://studywithmarc/./rendering/game-page.js","webpack://studywithmarc/./rendering/level-page.js","webpack://studywithmarc/./script.js","webpack://studywithmarc/./src/const.js","webpack://studywithmarc/./src/game.js","webpack://studywithmarc/./src/level.js","webpack://studywithmarc/webpack/bootstrap","webpack://studywithmarc/webpack/runtime/define property getters","webpack://studywithmarc/webpack/runtime/hasOwnProperty shorthand","webpack://studywithmarc/webpack/runtime/make namespace object","webpack://studywithmarc/webpack/before-startup","webpack://studywithmarc/webpack/startup","webpack://studywithmarc/webpack/after-startup"],"sourcesContent":["import { CLOSED } from '../src/const.js';\n\nexport function renderGamePage(cards) {\n    const appEl = document.getElementById('wrapper');\n\n    let appHtml = `  <header>\n        <div class=\"time\">\n        <section class=\"timeset\"><p class=\"min\">min</><p class=\"sek\">sek</p></section>\n        <section><span id=\"timerid\" class=\"game-timer\">0:00</span></section>\n        </div>\n        <div class=\"back-counter\"></div>\n        <div class=\"start-button\">Старт</div>\n    </header>`;\n    appHtml += `<div class=\"memory-game\">`;\n    appHtml += cards\n        .map((card, index) => {\n            return renderCard(card, index);\n        })\n        .join('');\n    appHtml += `</div>`;\n    appEl.innerHTML = appHtml;\n}\n\nfunction renderCard(card, index) {\n    // Рендер одной карты\n\n    return `<div class=\"memory-card\" id=${index}> \n        <img src=\"./assets/cards/${\n            card.status === CLOSED ? '99' : card.id\n        }.png\" alt=\"card\" \n        class=${card.status === CLOSED ? 'card_back' : 'card_front'}></div>`;\n}\n","export function renderLevelPage() {\n    const appEl = document.getElementById('wrapper');\n\n    const appHtml = `\n            <div class=\"main\">\n                <h3 class=\"main-title\">Выбери сложность</h3>\n                <div class=\"radio-group\">\n                    <input id=\"radio_1\" type=\"radio\" name=\"radio\" value=\"1\">\n                    <label for=\"radio_1\">1</label>\n\n                    <input id=\"radio_2\" type=\"radio\" name=\"radio\" value=\"2\">\n                    <label for=\"radio_2\">2</label>\n                \n                    <input id=\"radio_3\" type=\"radio\" name=\"radio\" value=\"3\">\n                    <label for=\"radio_3\">3</label>\n                </div>\n                <button class=\"start-button\">Старт</button>\n            </div>\n        `;\n    appEl.innerHTML = appHtml;\n}\n","export const gameStatus = {\n    level: 0,\n    firstCard: null,\n    timeStart: 0,\n};\nconst cardQuantityForLevel = [6, 12, 18];\nexport let cards = [];\n\nimport { chooseLevel } from './src/level.js';\nimport { playGame } from './src/game.js';\nimport {\n    START_PAGE,\n    GAME_PAGE,\n    WIN_PAGE,\n    DEFEAT_PAGE,\n    CLOSED,\n    BEGIN,\n} from './src/const.js';\n\nexport const goToPage = (newPage, data) => {\n    switch (newPage) {\n        case START_PAGE:\n            chooseLevel();\n            break;\n        case GAME_PAGE:\n            cards = generateCards(cardQuantityForLevel[gameStatus.level - 1]);\n            playGame(BEGIN);\n            break;\n        case WIN_PAGE:\n            // renderWinPageComponent();\n            break;\n        case DEFEAT_PAGE:\n            // renderDefeatPageComponent();\n            break;\n        default:\n            break;\n    }\n    return;\n};\nconst generateCards = (cardQuantity) => {\n    const CardList = [];\n    let auxArray = [];\n    for (let i = 0; i < 36; i++) auxArray[i] = i; // Создаем полный набор карт\n    shuffle(auxArray); // Перемешиваем его карты\n\n    auxArray = auxArray.slice(0, cardQuantity); //Вырезаем нужное количество карт\n    auxArray = [...auxArray, ...auxArray]; //Добавляем пары\n\n    shuffle(auxArray); // Перемешиваем отбранные пары\n\n    for (let i = 0; i < 36; i++) {\n        CardList[i] = {\n            id: i < cardQuantity * 2 ? auxArray[i] : 99,\n            status: CLOSED,\n        }; // 99 - у нас будет нарисована \"неактивная рубашка\"\n    }\n    return CardList;\n};\n\nconst shuffle = (array) => {\n    // Тасование Фишера — Йетса\n    for (let i = array.length - 1; i > 0; i--) {\n        let j = Math.floor(Math.random() * (i + 1));\n        [array[i], array[j]] = [array[j], array[i]];\n    }\n};\n\ngoToPage(START_PAGE);\n","// Cписок страниц приложения\nexport const START_PAGE = 'start';\nexport const GAME_PAGE = 'game';\nexport const WIN_PAGE = 'win';\nexport const DEFEAT_PAGE = 'defeat';\n\n// Статус карты\nexport const FREE = 'free';\nexport const CLOSED = 'close';\nexport const OPENED = 'open';\n\n//Этап игры\nexport const BEGIN = 'begin';\nexport const CARDS = 'cards';\nexport const GAME = 'game';\n","import { cards, gameStatus, goToPage } from '../script.js';\nimport { renderGamePage } from '../rendering/game-page.js';\nimport {\n    WIN_PAGE,\n    DEFEAT_PAGE,\n    CLOSED,\n    OPENED,\n    BEGIN,\n    CARDS,\n    GAME,\n} from './const.js';\n\nexport function playGame(status) {\n    switch (status) {\n        case BEGIN:\n            renderGamePage(cards);\n            activateStartButton();\n            break;\n        case CARDS:\n            fillStatus(cards, CARDS);\n            renderGamePage(cards);\n            timer(5); // Показываем играющие карты на 5 секунд\n\n            break;\n        case GAME:\n            fillStatus(cards, GAME);\n            renderGamePage(cards);\n            activateCards(cards); // Активируем \"Клик\" на играющих картах\n            // game(cards);\n            break;\n        default:\n            alert('Ошибка в playGame');\n            break;\n    }\n}\n\nfunction fillStatus(cards, status) {\n    if (status === CARDS) {\n        cards.forEach((element, index) =>\n            element.id === 99\n                ? (element.status = CLOSED)\n                : (element.status = OPENED)\n        );\n    } else {\n        cards.forEach((element, index) => (element.status = CLOSED));\n    }\n}\n\n\nconst timer = (deadline) => {\n    const timerString = document.querySelector('.back-counter');\n    timerString.innerText = deadline;\n    let time = deadline;\n\n    const interval = setInterval(() => {\n        time -= 1;\n        timerString.innerText = time;\n    }, 1000);\n\n    setTimeout(() => {\n        clearInterval(interval);\n        playGame(GAME);\n    }, deadline * 1000);\n};\n\nconst intervalPlay = setInterval(() => {\n    time += 1;\n}, 1000);\nlet secs, now, gameTimer,\n    mins = 0\n\nfunction time(){\n\n    setTimeout(() => {\n        const timerid = document.getElementById(\"timerid\");\n        secs = Math.floor((Date.now() - now)/1000)\n        if(secs == 60 ){\n          now = Date.now()\n          mins++\n        }\n        if(secs < 10){\n          secs = '0' + secs\n        }\n        timerid.innerHTML = mins + ':' + secs\n     }, 5000)\n\n}\n\nfunction activateStartButton() {\n    const startButton = document.querySelector('.start-button');\n    startButton.classList.add('pointer');\n    startButton.onclick = function () {\n        deactivateStartButton();\n        playGame(CARDS);\n        now = Date.now() + 5000\n        mins = 0\n        gameTimer = setInterval(time)\n    };\n}\nfunction deactivateStartButton() {\n    const startButton = document.querySelector('.start-button');\n    startButton.onclick = '';\n    startButton.classList.remove('pointer');\n}\nfunction activateCards(cards) {\n    const cardsList = document.querySelectorAll('.memory-card');\n    for (let card of cardsList) {\n        if (cards[card.id].id !== 99) card.classList.add('pointer');\n        card.onclick = function () {\n            if (cards[card.id].id !== 99) {\n                cards[card.id].status = OPENED; // Возможно, что уже не нужно\n\n                const currentCard = document.getElementById(card.id);\n                currentCard.classList.remove('pointer');\n                for (const child of currentCard.children) {\n                    child.setAttribute(\n                        'src',\n                        `./assets/cards/${cards[card.id].id}.png`\n                    );\n                }\n                //TODO Разобраться почему alert мешает перерисовке  карты\n\n                if (gameStatus.firstCard) {\n                    // Открыли вторую карту\n                    if (gameStatus.firstCard === cards[card.id].id) {\n                        clearInterval(intervalPlay)\n                        alert('Вы победили');\n                        goToPage(WIN_PAGE)\n                    } else {\n                        alert('Вы проиграли');\n                        clearInterval(intervalPlay)\n                        goToPage(DEFEAT_PAGE)\n                    }\n                    gameStatus.firstCard = null;\n                } else {\n                    gameStatus.firstCard = cards[card.id].id;\n                }\n\n                card.onclick = '';\n            }\n        };\n    }\n}\n","import { gameStatus, goToPage } from '../script.js';\nimport { renderLevelPage } from '../rendering/level-page.js';\nimport { GAME_PAGE } from './const.js';\n\nexport function chooseLevel() {\n    renderLevelPage(); //Заполнение HTML\n\n    document.querySelector('.radio-group').addEventListener('click', () => {\n        const radioButtons = document.querySelectorAll('input[type=\"radio\"]');\n        for (let radioButton of radioButtons) {\n            if (radioButton.checked) {\n                gameStatus.level = radioButton.value;\n                const startButtonClasslist =\n                    document.querySelector('.start-button').classList;\n                if (!startButtonClasslist.contains('pointer'))\n                    startButtonClasslist.add('pointer');\n                return;\n            }\n        }\n    });\n\n    document.querySelector('.start-button').addEventListener('click', () => {\n        if (gameStatus.level !== 0) {\n            gameStatus.timeStart = new Date();\n            goToPage(GAME_PAGE);\n        }\n    });\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./script.js\");\n",""],"names":[],"sourceRoot":""}